version: 2

models:
  - name: fct_sales
    description: "Fact table of sales transactions (denormalized)."
    columns:
      - name: product_key
        description: "Surrogate key referencing dim_products."
        data_type: string
        tests:
          - not_null
          - relationships:
              to: ref('dim_products')
              field: product_key
      - name: postal_code_key
        description: "Surrogate key referencing dim_postal_codes."
        data_type: string
        tests:
          - not_null
          - relationships:
              to: ref('dim_postal_codes')
              field: postal_code_key
      - name: order_id
        description: "Unique order identifier."
        data_type: string
        tests:
          - not_null
          - unique
      - name: order_date
        description: "Date of order."
        data_type: timestamp
        tests:
          - not_null
      - name: ship_date
        description: "Date of shipment."
        data_type: timestamp
      - name: ship_mode
        description: "Shipping method of order."
        data_type: string
      - name: customer_id
        description: "Unique customer identifier."
        data_type: string
      - name: sales
        description: "Total sales value of the order."
        data_type: numeric
      - name: units
        description: "Total units in the order."
        data_type: integer
      - name: gross_profit
        description: "Gross profit for the order (sales - cost)."
        data_type: numeric
      - name: cost
        description: "Cost to manufacture for the order."
        data_type: numeric
